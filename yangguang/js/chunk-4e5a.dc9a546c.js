(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e5a"],{1803:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticStyle:{height:"750px",width:"100%",overflow:"hidden"},attrs:{id:"myChart"}})},o=[],n=(t("7f7f"),t("66df")),i={name:"groupWorker",data:function(){return{allDepartUsers:[],userTreeData:[]}},methods:{createDepartTree:function(e){var r=t("313e"),a=r.init(document.getElementById("myChart"));a.setOption({tooltip:{show:!0,trigger:"item",triggerOn:"mousemove"},series:[{type:"tree",roam:!0,data:this.userTreeData,orient:"TB",layout:"orthogonal",lineStyle:{curveness:"1"},label:{position:"bottom",color:"#1196EE"},symbolSize:12,initialTreeDepth:3}]})},getGroupDepartData:function(){var e=this;n["a"].request({url:"/m/getDeparts.do",data:{},method:"post"}).then(function(r){e.userTreeData=e.getGroupDepartArray(0,r.data.content),e.createDepartTree(e.userTreeData)})},getGroupDepartArray:function(e,r){var t=this.getGroupDepartParentArray(e,r);if(t.length>0)for(var a in t)t[a].children=this.getGroupDepartArray(t[a].depart_id,r);return t},getGroupDepartParentArray:function(e,r){var t=this,a=new Array;for(var o in r)r[o].depart_fid===e&&a.push({name:r[o].username,value:[r[o].depart_name],id:r[o].id,depart_fid:r[o].depart_fid,depart_id:r[o].depart_id,tooltip:{padding:10,backgroundColor:"#222",borderColor:"#777",borderWidth:1,formatter:function(e){return"人员名称："+e.name+"<br>所属部门："+e.value[0]+"<br>"}}});for(var n in t.allDepartUsers)if(t.allDepartUsers[n].user_depart==e){for(var i in a)a[i].id!=t.allDepartUsers[n].id||console.log("yes");a.push({name:t.allDepartUsers[n].username,value:[t.allDepartUsers[n].depart_name],id:t.allDepartUsers[n].id,tooltip:{padding:10,backgroundColor:"#222",borderColor:"#777",borderWidth:1,formatter:function(e){return"人员名称："+e.name+"<br>所属部门："+e.value[0]+"<br>"}}})}return a},getAllUsers:function(){var e=this;n["a"].request({url:"/m/getAllUsers.do",data:{},method:"post"}).then(function(r){e.allDepartUsers=r.data.content,e.getGroupDepartData()})}},mounted:function(){this.getAllUsers()}},s=i,u=(t("309e"),t("2877")),l=Object(u["a"])(s,a,o,!1,null,null,null);l.options.__file="groupWorker.vue";r["default"]=l.exports},"309e":function(e,r,t){"use strict";var a=t("b55f"),o=t.n(a);o.a},b55f:function(e,r,t){}}]);