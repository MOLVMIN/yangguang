(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d4f8"],{"067a":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Card",[i("div",{staticStyle:{height:"40px"}},t._l(t.permissionBtns,function(e){return 14===e.p_id?i("Button",{staticClass:"add-btn",attrs:{type:"primary"},on:{click:t.updateBtn}},[t._v(t._s(e.p_name))]):t._e()})),null!==t.arContent?i("div",{domProps:{innerHTML:t._s(t.arContent)}},[t._v("\n      "+t._s(t.arContent)+"\n    ")]):i("div",{staticStyle:{width:"100%",height:"calc(100% - 50px)","text-align":"center"}},[t._v("\n      暂无简介\n    ")])]),i("Modal",{attrs:{width:"800","mask-closable":!1},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[i("p",{staticStyle:{color:"#2d8cf0"},attrs:{slot:"header"},slot:"header"},[i("span",[t._v(t._s(t.modalTitle))])]),i("Form",[i("FormItem",[i("quill-editor",{ref:"myQuillEditor",attrs:{options:t.editorOptions,content:t.arEditContent},model:{value:t.arEditContent,callback:function(e){t.arEditContent=e},expression:"arEditContent"}})],1)],1),i("div",{attrs:{slot:"footer"},slot:"footer"},t._l(t.permissionBtns,function(e){return 14===e.p_id?i("Button",{attrs:{type:"info",size:"large"},on:{click:function(i){t.updateArticles(e.p_path)}}},[t._v("保存")]):t._e()}))],1)],1)},o=[],l=(i("ac4d"),i("8a81"),i("ac6a"),i("a322")),s=i("ebad"),a=i("66df"),r=i("88ec"),c={name:"rules",components:{QuillEditor:s["a"]},data:function(){var t;return t={arContent:null,showModal:!1,editorOptions:{placeholder:"请输入简介内容…",modules:{toolbar:{container:[["bold","italic","underline","strike","clean"],[{header:1},{header:2}],[{color:[]},{background:[]}],[{align:[]}]],handlers:{image:function(t){t?document.querySelector("#upLoadImg").click():this.quill.format("image",!1)}}}}}},Object(l["a"])(t,"arContent",""),Object(l["a"])(t,"arEditContent",""),Object(l["a"])(t,"modalTitle",""),Object(l["a"])(t,"permissionBtns",[]),Object(l["a"])(t,"handleBtns",[]),t},methods:{getArticles:function(){var t=this;a["a"].request({url:"m/articles/get.do",data:{type:"1"},method:"post"}).then(function(e){200===e.data.code&&(t.arContent=e.data.content.arContent)})},updateBtn:function(t){this.modalTitle="更新简介",this.showModal=!0,this.arEditContent=this.arContent},updateArticles:function(t){var e=this;a["a"].request({url:t,data:{arContent:e.arEditContent},method:"post"}).then(function(t){200===t.data.code?(e.showModal=!1,e.getArticles(),e.$Notice.success({title:"简介更新成功"})):e.$Notice.error({title:t.data.msg})})},getPermissionBtns:function(){this.permissionBtns=[];var t=!0,e=!1,i=void 0;try{for(var n,o=r["a"].permission[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var l=n.value;l.p_fid===this.$route.meta.id&&(this.permissionBtns.push(l),14===l.p_id&&this.handleBtns.push(l))}}catch(t){e=!0,i=t}finally{try{t||null==o.return||o.return()}finally{if(e)throw i}}}},mounted:function(){this.getPermissionBtns(),this.getArticles()},watch:{showModal:function(t){t||(this.arEditContent="")}}},d=c,u=(i("7a13"),i("2877")),h=Object(u["a"])(d,n,o,!1,null,null,null);h.options.__file="profile.vue";e["default"]=h.exports},"7a13":function(t,e,i){"use strict";var n=i("c80f"),o=i.n(n);o.a},c80f:function(t,e,i){},ebad:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"quill-editor"},[t._t("toolbar"),i("div",{ref:"editor"})],2)},o=[],l=i("9339"),s=i.n(l),a={theme:"snow",boundary:document.body,modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},placeholder:"Insert text here ...",readOnly:!1};const r=window.Quill||s.a;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");const i=Object(t);for(let n=1;n<arguments.length;n++){const t=arguments[n];if(null!=t)for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e])}return i},writable:!0,configurable:!0});var c={name:"quill-editor",data(){return{_options:{},_content:"",defaultOptions:a}},props:{content:String,value:String,disabled:{type:Boolean,default:!1},options:{type:Object,required:!1,default:()=>({})},globalOptions:{type:Object,required:!1,default:()=>({})}},mounted(){this.initialize()},beforeDestroy(){this.quill=null,delete this.quill},methods:{initialize(){this.$el&&(this._options=Object.assign({},this.defaultOptions,this.globalOptions,this.options),this.quill=new r(this.$refs.editor,this._options),this.quill.enable(!1),(this.value||this.content)&&this.quill.pasteHTML(this.value||this.content),this.disabled||this.quill.enable(!0),this.quill.on("selection-change",t=>{t?this.$emit("focus",this.quill):this.$emit("blur",this.quill)}),this.quill.on("text-change",(t,e,i)=>{let n=this.$refs.editor.children[0].innerHTML;const o=this.quill,l=this.quill.getText();"<p><br></p>"===n&&(n=""),this._content=n,this.$emit("input",this._content),this.$emit("change",{html:n,text:l,quill:o})}),this.$emit("ready",this.quill))}},watch:{content(t,e){this.quill&&(t&&t!==this._content?(this._content=t,this.quill.pasteHTML(t)):t||this.quill.setText(""))},value(t,e){this.quill&&(t&&t!==this._content?(this._content=t,this.quill.pasteHTML(t)):t||this.quill.setText(""))},disabled(t,e){this.quill&&this.quill.enable(!t)}}},d=c,u=i("2877"),h=Object(u["a"])(d,n,o,!1,null,null,null);h.options.__file="editor.vue";e["a"]=h.exports}}]);